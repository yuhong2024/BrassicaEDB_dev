<template>
  <div>
    <h2>选择条件</h2>

    <!-- Organism 选择 -->
    <h3>Organism</h3>
    <el-cascader
        v-model="selectedValues"
        :options="options"
        :props="cascaderProps"
        clearable
        show-all-levels="false"
        filterable
        collapse-tags
        :max-collapse-tags="3"
        placeholder="请选择物种"
    />

    <h3>已选择的物种和项目</h3>
    <div v-if="selectedValues.length > 0">
      <p><strong>Organism:</strong> {{ selectedValues[0] }}</p>
      <p><strong>BioProject:</strong> {{ selectedValues[selectedValues.length - 1] }}</p>
    </div>
  </div>
</template>

<script lang="ts" setup>
import { ref } from 'vue'

// 构建选项数据，涵盖 Organism、Mode、Tissue、Classify、Treatment_type 和 BioProject 各个层级
const options = ref([
  {
    label: 'Brassica juncea',
    value: 'Brassica juncea',
    children: [
      {
        label: 'untreated',
        value: 'untreated',
        children: [
          {
            label: 'Seed',
            value: 'Seed',
            children: [
              {
                label: 'normal',
                value: 'normal',
                children: [
                  {
                    label: '-',
                    value: '-',
                    children: [
                      { label: 'PRJNA1020652', value: 'PRJNA1020652' },
                      { label: 'PRJNA245462', value: 'PRJNA245462' }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        label: 'treated',
        value: 'treated',
        children: [
          {
            label: 'Leaf',
            value: 'Leaf',
            children: [
              {
                label: 'abiotic',
                value: 'abiotic',
                children: [
                  {
                    label: 'Salt',
                    value: 'Salt',
                    children: [{ label: 'PRJNA1039958', value: 'PRJNA1039958' }]
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  },
  {
    label: 'Brassica oleracea',
    value: 'Brassica oleracea',
    children: [
      {
        label: 'untreated',
        value: 'untreated',
        children: [
          {
            label: 'Leaf',
            value: 'Leaf',
            children: [
              {
                label: 'normal',
                value: 'normal',
                children: [
                  {
                    label: '-',
                    value: '-',
                    children: [{ label: 'PRJNA1047966', value: 'PRJNA1047966' }]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        label: 'treated',
        value: 'treated',
        children: [
          {
            label: 'Leaf',
            value: 'Leaf',
            children: [
              {
                label: 'abiotic',
                value: 'abiotic',
                children: [
                  {
                    label: 'Drought',
                    value: 'Drought',
                    children: [{ label: 'PRJNA1051351', value: 'PRJNA1051351' }]
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  },
  // 其他物种及其子选项...
])

// 级联选择器的配置属性
const cascaderProps = ref({
  multiple: false, // 单选模式，选择一个 BioProject
  checkStrictly: true, // 允许选择任意级别
  emitPath: true, // 需要返回整个路径以获取 Organism 和 BioProject
})

// 绑定选中的值
const selectedValues = ref([])
</script>

<style scoped>
/* 自定义样式 */
</style>
